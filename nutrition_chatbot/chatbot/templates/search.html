<!-- templates/search.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>음식 검색</title>
</head>
<body>
    <h1>음식 검색 서비스</h1>

    <!-- 검색 폼 -->
    <form method="get" action="{% url 'search_food' %}">
        <input type="text" name="q" placeholder="음식 이름 입력" value="{{ query }}">
        <button type="submit">검색</button>
    </form>

    <hr>

    <!-- 검색 결과 -->
    {% if query %}
        <h2>"{{ query }}" 검색 결과:</h2>
        {% if results %}
            <ul>
                {% for item in results %}
                    <li>
                        <strong>{{ item.name }}</strong>
                        <ul>
                            <li>식품 코드: {{ item.food_code }}</li>
                            <li>이름: {{ item.name }}</li>
                            <li>카테고리: {{ item.category }}</li>
                            <li>대표 식품명: {{ item.main_category }}</li>
                            <li>영양성분 기준량: {{ item.nutrient_standard }}</li>
                            <li>칼로리: {{ item.energy }} kcal</li>
                            <li>단백질: {{ item.protein }} g</li>
                            <li>지방: {{ item.fat }} g</li>
                            <li>탄수화물: {{ item.carbs }} g</li>
                            <li>당류: {{ item.sugar }} g</li>
                            <li>식이섬유: {{ item.fiber }} g</li>
                            <li>나트륨: {{ item.sodium }} mg</li>
                            <li>콜레스테롤: {{ item.cholesterol }} mg</li>
                            <li>포화지방산: {{ item.saturated_fat }} g</li>
                            <li>트랜스지방산: {{ item.trans_fat }} g</li>
                            <li>식품 중량: {{ item.weight }}</li>
                        </ul>
                        
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>검색 결과가 없습니다.</p>
        {% endif %}
    {% else %}
        <p>검색어를 입력하세요.</p>
    {% endif %}
</body>
</html>
